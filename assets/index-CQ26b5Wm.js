(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const a=12,d=16,b=1e5,p=e=>new TextEncoder().encode(e),h=e=>new TextDecoder().decode(e),x=e=>btoa(String.fromCharCode(...new Uint8Array(e))),g=e=>{const t=atob(e),r=new Uint8Array(t.length);for(let c=0;c<t.length;c++)r[c]=t.charCodeAt(c);return r},E=async(e,t)=>{const r=crypto.getRandomValues(new Uint8Array(a)),c=crypto.getRandomValues(new Uint8Array(d)),n=await f(t,c),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,p(e)),s=new Uint8Array(a+d+o.byteLength);return s.set(r,0),s.set(c,a),s.set(new Uint8Array(o),a+d),x(s.buffer)},C=async(e,t)=>{const r=new Uint8Array(g(e)),c=r.slice(0,a),n=r.slice(a,a+d),o=r.slice(a+d),s=await f(t,n),v=await crypto.subtle.decrypt({name:"AES-GCM",iv:c},s,o);return h(v)},f=async(e,t)=>{const r=await crypto.subtle.importKey("raw",p(e),{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:b,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])},i=document.getElementById.bind(document),y=i("key"),l=i("copyOutput"),u=i("outputText"),A=i("encrypt"),L=i("decrypt"),m=i("inputText");async function T(){try{const e=m.value,t=y.value;if(!t)return alert("Please provide a password.");const r=await E(e,t);u.textContent=r}catch{u.textContent="Encryption failed."}}async function K(){try{const e=m.value,t=y.value;if(!t)return alert("Please provide a password.");const r=await C(e,t);u.textContent=r}catch{u.textContent="Decryption failed. Wrong password or corrupted data."}}function S(){navigator.clipboard.writeText(u.innerText).then(()=>{l.textContent="Copied!",setTimeout(()=>l.textContent="Copy Output",2e3)}).catch(e=>console.error(e))}function w(e){const t=y.attributes.getNamedItem("type");t&&(t.value=e?"password":"text")}l.addEventListener("click",S);A.addEventListener("click",T);L.addEventListener("click",K);y.addEventListener("mouseover",()=>w(!1));y.addEventListener("mouseleave",()=>w(!0));
